{% extends "base.html" %}
{% block content %}

<div class="dashboard-container">

    <!-- Header -->
    <section class="dashboard-header">
        <h1>üìä Analytics Dashboard</h1>
        <p>Monitor NeuralSync activity and system performance</p>
    </section>

    <!-- Stats Cards -->
    <section class="stats-grid">
        <div class="stat-card">
            <h3>Total Messages</h3>
            <p class="stat-number">{{ total_messages }}</p>
        </div>

        <div class="stat-card">
            <h3>System Status</h3>
            <p class="status online">‚óè Online</p>
        </div>

        <div class="stat-card">
            <h3>Security</h3>
            <p>SHA-256 Enabled</p>
        </div>

        <div class="stat-card">
            <h3>AI Model</h3>
            <p>Mistral 7B</p>
        </div>
    </section>

    <!-- Chart Section -->
    <section class="chart-section">
        <h2>Conversation Activity</h2>
        <canvas id="activityChart"></canvas>
    </section>

    <!-- Recent Activity -->
    <section class="recent-activity">
        <h2>Recent Activity</h2>
        <ul>
            <li>New conversation stored securely</li>
            <li>Hash verification completed</li>
            <li>AI responded successfully</li>
            <li>Database updated</li>
        </ul>
    </section>

</div>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    const ctx = document.getElementById('activityChart');

    new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            datasets: [{
                label: 'Messages',
                data: [5, 9, 7, 14, 11, 18, 10],
                tension: 0.4,
                fill: true
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: { display: false }
            },
            scales: {
                y: { beginAtZero: true }
            }
        }
    });
</script>

<style>
    .dashboard-container {
        max-width: 1200px;
        margin: auto;
        padding: 40px 20px;
    }

    .dashboard-header {
        text-align: center;
        margin-bottom: 40px;
    }

    .dashboard-header h1 {
        font-size: 2.8rem;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
    }

    .stat-card {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        padding: 25px;
        text-align: center;
        transition: 0.3s ease;
    }

    .stat-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 15px 40px rgba(0, 207, 255, 0.15);
    }

    .stat-number {
        font-size: 2.5rem;
        color: var(--accent-blue);
        margin-top: 10px;
    }

    .status.online {
        color: #00ff9c;
        font-weight: bold;
    }

    .chart-section {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 40px;
    }

    .chart-section h2 {
        margin-bottom: 20px;
    }

    .recent-activity {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        padding: 30px;
    }

    .recent-activity ul {
        list-style: none;
        padding-left: 0;
    }

    .recent-activity li {
        padding: 10px 0;
        border-bottom: 1px solid var(--glass-border);
    }

    .recent-activity li:last-child {
        border-bottom: none;
    }
</style>

{% endblock %}